setwd("~/Desktop/thesis")
git init
citation(package = "democracyData")
citation(package = "democracyData")
library(democracyData)
library(democracyData)
library(democracyData)
fh <- download_fh(verbose = FALSE)
library(countrycode)
fh$iso <- countrycode(fh$fh_country, "country.name", "iso3c", warn = TRUE)
polity <- download_polity_annual(verbose = FALSE)
View(fh)
View(polity)
install.packages("editData")
library(editData)
editData
fh$iso <- countrycode(fh$fh_country, "country.name", "iso3c", warn = TRUE)
fh$iso <- "FSM" if fh$fh_country == "Micronesia"
write.csv(fh, file = "fh.csv")
fh <- edit(fh)
fh <- read.csv("~/Desktop/thesis/fh.csv")
View(fh)
setwd("~/Desktop/thesis")
library(democracyData)
fh <- download_fh(verbose = FALSE)
library(countrycode)
fh$iso <- countrycode(fh$fh_country, "country.name", "iso3c", warn = TRUE)
write.csv(fh, "fh.csv")
polity <- download_polity_annual(verbose = FALSE)
write.csv(polity, "polity.csv")
fh <- read.csv("fh.csv")
View(fh)
fh <- edit(fh)
fh$iso[fh_country == "Micronesia"] <- "FSM"
fh$iso[fh$fh_country == "Micronesia"] <- "FSM"
fh$fh_country <- as.character(fh$fh_country)
fh$iso[fh$fh_country == "Micronesia"] <- "FSM"
fh$iso <- as.character(fh$iso)
fh$iso[fh$fh_country == "Micronesia"] <- "FSM"
View(fh)
fh <- read.csv("fh.csv", stringsAsFactors = FALSE)
View(fh)
fh$iso[fh$fh_country == "Micronesia"] <- "FSM"
View(fh)
fh$GWn <- NULL
fh$in_GW_system <- NULL
empty <- fh(is.na(fh$iso))
empty <- fh[is.na(fh$iso)]
mean(fh$iso)
empty <- fh[is.na(fh$iso),]
View(empty)
fh[fh ==""] <- NA
fh <- na.omit(fh)
empty <- fh[is.na(fh$iso),]
View(empty)
fh$x <- NULL
View(fh)
fh$x <- NULL
View(fh)
write.csv(fh, "fh.csv")
polity <- read.csv("polity.csv")
View(polity)
fh <- read.csv("fh.csv")
View(fh)
polity <- read.csv("polity.csv")
empty <- polity[polity$polity_annual_ccode != polity$cown]
empty <- polity[polity$polity_annual_ccode != polity$cown,]
View(empty)
install.packages("readxl")
library("readxl")
setwd(~/Desktop)
setwd(~Desktop/H195B)
setwd("~/Desktop/H195B")
cpds <- read_excel("CPDS-1960-2015-Update-2017.2.xlsx")
warnings()
View(cpds)
write.csv(cpds, "cpdx.csv")
setwd(~/Desktop)
setwd("~/Desktop")
cnts <- read_excel("2017 Edition CNTSDATA.xlsx")
library("readxl")
cnts <- read_excel("2017 Edition CNTSDATA.xlsx")
View(cnts)
library(countrycode)
cnts$cown <- countrycode(cnts$country, "country.name", "cown", warn = TRUE)
write.csv(cnts, "cnts.csv")
cnts <- read.csv("cnts.csv")
View(cnts)
cnts$cown <- countrycode(cnts$country, "country.name", "cown", warn = TRUE)
cnts$cown[cnts$country == "Serbia"] <- 688
View(cnts)
cnts$cown <- countrycode(cnts$Wbcode, "iso3c", "cown", warn = TRUE)
rm(cnts.X1)
rm(cnts$X1)
cnts$X1 <- NULL
View(cnts)
write.csv(cnts, "cnts.csv")
dpi <- read.csv("DPI2017_basefile_Jan2018")
dpi <- read.csv("DPI2017_basefile_Jan2018.csv")
View(dpi)
library(countrycode)
dpi$cown <- countrycode(dpi$ifs, "iso3c", "cown", warn = TRUE)
write.csv(dpi, "dpi.csv")
debt <- read.csv("API_GC.DOD.TOTL.GD.ZS_DS2_en_csv_v2.csv")
cd ~/Desktop
setwd("~/Desktop")
cd ~/Desktop
debt <- read.csv("API_GC.DOD.TOTL.GD.ZS_DS2_en_csv_v2.csv")
View(debt)
debt <- read.csv("API_GC.DOD.TOTL.GD.ZS_DS2_en_csv_v2.csv")
write.csv(debt, "debt.csv")
deficit <- read.csv("deficit.csv")
View(deficit)
deficit <- read.csv("deficit.csv")
View(deficit)
deficit$cown <- countrycode(deficit$X...LOCATION, "iso3c", "cown", warn = TRUE)
library(countrycode)
deficit$cown <- countrycode(deficit$X...LOCATION, "iso3c", "cown", warn = TRUE)
deficit$country.name <- countrycode(deficit$X...LOCATION, "iso3c", "country.name",
warn = TRUE)
write.csv(deficit, "deficit.csv")
read.csv("debt.csv")
View(debt)
debt[2, X2000]
debt[2, 10]
debt[2, 50]
debt[12, 50]
deficit <- read.csv("deficit.csv")
View(deficit)
library(data.table)
debt <- read.csv("debt.csv")
View(debt)
debt <- read.csv("debt.csv")
View(debt)
debt <- read.csv("debt.csv")
View(debt)
setwd("~/Desktop/thesis")
debt <- read.csv("debt.csv")
View(debt)
debt[1,]
debt[1,1:5]
debt <- read.csv("debt.csv")
View(debt)
colnames(debt)[2]
colnames(debt)[6]
colnames(debt)[6:10]
colnames(debt)[6:64]
colnames(debt)[6:64] <- 1959:2017
colnames(debt)[6:64] <- as.numeric(1959:2017)
as.numeric(colnames(debt)[6:64])
colnames(debt)[6:64] <- as.numeric(colnames(debt)[6:64])
View(debt)
library(data.table)
dcast(melt(setDT(debt), id.var=c("Country.name"), variable.name="year"),
Country+year~Indicator, value.var='value')
dcast(melt(setDT(debt), id.var=c("Country.Name"), variable.name="year"),
Country+year~Indicator, value.var='value')
library(reshape)
install.packages(reshape)
install.packages("reshape")
library(reshape)
debt <- melt(debt, id=c("Country.name","Region","Country.Code","Indicator.Name",
"Indicator.Code"))
debt <- melt(debt, id=c("Country.name","Region","Country.Code"))
debt <- melt(debt, id=c(1:5))
debt <- debt[order(Country.Name),]
write.csv(debt, "debt.csv")
debt$cown <- countrycode(debt$Country.Code, "iso3c", "cown", warn = TRUE)
debt$cown <- countrycode(debt$Country.Name, "country.name", "cown", warn = TRUE)
write.csv(debt, "debt.csv")
setwd("~/Desktop")
imf_deficit <- read.csv("imf_deficit.csv")
imf_debt <- read.csv("imf_dbt.csv")
imf_debt <- read.csv("imf_debt.csv")
View(imf_debt)
View(imf_deficit)
colnames(imf_deficit)[5:17] <- as.numeric(colnames(imf_deficit)[5:17])
library(reshape)
imf_deficit <- melt(imf_deficit, id=c(1:4))
imf_deficit <- reshape(imf_deficit, varying = c(5:17), timevar = "deficit", idvar = c(1:4), direction = "long", sep = "_")
write.csv(imf_deficit, "imf_deficit.csv")
imf_deficit <- read.csv("imf_deficit.csv")
View(imf_deficit)
colnames(imf_deficit)[5:17] <- as.numeric(colnames(imf_deficit)[5:17])
debt <- melt(debt, id=c(1:4))
imf_deficit <- melt(imf_deficit, id=c(1:4))
imf_deficit <- melt(imf_deficit, id.vars = c(1:4), measure.vars = c(5:17))
imf_deficit <- read.csv("imf_deficit.csv")
imf_deficit <- melt(imf_deficit, id.vars = c(1:4), measure.vars = c(5:17))
imf_debt <- melt(imf_debt, id.vars = c(1:4), measure.vars = c(5:17))
write.csv(imf_deficit, "imf_deficit.csv")
write.csv(imf_debt, "imf_debt.csv")
imf <- read.csv("imf_deficit_debt.csv")
View(imf)
imf$cown <- countrycode(imf$Country.name, "country.name", "cown", warn = TRUE)
library(countrycode)
imf$cown <- countrycode(imf$Country.name, "country.name", "cown", warn = TRUE)
imf$iso <- countrycode(imf$Country.name, "country.name", "iso3c", warn = TRUE)
imf <- imf[order(Country.Name),]
imf <- imf[order(Country.name),]
imf <- imf[order(imf$Country.name),]
write.csv(imf, "imf_deficit_debt.csv")
setwd("~/Desktop")
realgdpgr <- read.csv("realgdpgr.csv")
realgdpgr <- read.csv("realgdpgr.csv")
rm(imf, imf_debt, imf_deficit)
View(realgdpgr)
colnames(debt)[5:62] <- as.numeric(colnames(debt)[5:62])
colnames(realgdpgr)[5:62] <- as.numeric(colnames(realgdpgr)[5:62])
realgdpgr[5:62] <- 1960:2017
realgdpgr <- read.csv("realgdpgr.csv")
realgdpgr <- read.csv("realgdpgr.csv")
realgdpgr <- read.csv("realgdpgr.csv", row.names=FALSE)
realgdpgr <- read.csv("realgdpgr.csv", check.names = FALSE)
library(reshape)
realgdpgr <- melt(realgdpgr, id=c(1:4))
colnames(realgdpgr)[1] <- "Country.Name"
colnames(realgdpgr)[5] <- "year"
colnames(realgdpgr)[6] <- "raelgdpgr"
realgdpgr <- realgdpgr[order(Country.Name),]
realgdpgr <- realgdpgr[order(realgdpgr$Country.Name),]
realgdpgr$cown <- countrycode(realgdpgr$Country.Name, "country.name", "cown", warn = TRUE)
write.csv(realgdpgr, "realgdpgr.csv")
gdppcgr <- read.csv("gdppcgr.csv", check.names = FALSE)
colnames(gdppcgr)[5:62] <- as.numeric(colnames(gdppcgr)[5:62])
gdppcgr <- melt(gdppcgr, id=c(1:4))
colnames(gdppcgr)[1] <- "Country.Name"
colnames(gdppcgr)[5] <- "year"
colnames(gdppcgr)[6] <- "gdppcgr"
gdppcgr <- gdppcgr[order(gdppcgr$Country.Name),]
gdppcgr$cown <- countrycode(gdppcgr$Country.Name, "country.name", "cown", warn = TRUE)
write.csv(gdppcgr, "gdppcgr.csv")
currentgdp <- read.csv("currentgdp.csv", check.names = FALSE)
colnames(currentgdp)[5:62] <- as.numeric(colnames(currentgdp)[5:62])
currentgdp <- melt(currentgdp, id=c(1:4))
colnames(currentgdp)[1] <- "Country.Name"
colnames(currentgdp)[5] <- "year"
colnames(currentgdp)[6] <- "currentgdp"
currentgdp <- currentgdp[order(currentgdp$Country.Name),]
currentgdp$cown <- countrycode(currentgdp$Country.Name, "country.name", "cown", warn = TRUE)
write.csv(currentgdp, "currentgdp.csv")
inflation <- read.csv("inflation.csv", check.names = FALSE)
colnames(inflation)[5:62] <- as.numeric(colnames(inflation)[5:62])
inflation <- melt(inflation, id=c(1:4))
colnames(inflation)[1] <- "Country.Name"
colnames(inflation)[5] <- "year"
colnames(inflation)[6] <- "inflation"
inflation <- inflation[order(inflation$Country.Name),]
inflation$cown <- countrycode(inflation$Country.Name, "country.name", "cown", warn = TRUE)
write.csv(inflation, "inflation.csv")
setwd("~/Desktop/thesis")
worldbank <- read.csv("worldbank.csv")
debt <- read.csv("debt.csv")
View(debt)
View(worldbank)
colnames(debt)[1] <- country
colnames(debt)[1] <- "country"
m <- merge(worldbank, debt, by=c("country","year"))
m <- merge(worldbank, debt, by=c("country","year"), all=TRUE, sort = TRUE)
View(m)
write.csv(m, "worldbank_new.csv")
View(m[year=="1959"])
View(m[m$year=="1959"])
m$year
View(m)
View(m[m$year])
m[m$year==1959]
View(m[which(m$year==1959)])
View(m[which(m$year==1959),])
m <- m[m - m[which(m$year==1959),]]
m <- subset(m, m$year!=1959,)
View(m)
View(m[which(m$year==1959),])
View(m[which(m$cown.x!=m$cown.y),])
rm(m$cown.y)
write.csv(m, "worldbank_new.csv")
rm(m$cown.y)
m$cown.y <- NULL
View(m[which(m$iso.x!=m$iso.y),])
OECD <- read.csv("deficit.csv")
IMF <- read.csv("imf_deficit_debt.csv")
View(IMF)
View(IMF)
View(OECD)
m <- merge(IMF, OECD, by=c("iso","year"), all=TRUE, sort = TRUE)
View(m)
View(m[isna(m$Country.name)])
View(m[is.na(m$Country.name)])
m$Country.name
View(m[is.na(m$Country.name) == TRUE])
View(m[is.na(m$Country.name),])
m$Country.name[is.na(m$Country.name),] <- m$country.name
View(m)
m$country <- ifelse(is.na(m$Country.name), m$country.name, m$Country.name)
m$country <- ifelse(is.na(m$Country.name), "m$country.name", "m$Country.name")
m$Country.name[is.na(m$Country.name)] <- m$country.name[is.na(m$Country.name)]
m$Country.name[is.na(m$Country.name)] <- as.character(m$country.name[is.na(m$Country.name)])
m$Country.name[is.na(m$Country.name)] <- m$country.name[is.na(m$Country.name)]
m$Country.name[is.na(m$Country.name)] <- as.character(m$country.name[is.na(m$Country.name)])
m <- merge(IMF, OECD, by=c("iso","year"), all=TRUE, sort = TRUE)
View(m)
m$Country.name[is.na(m$Country.name)] <- as.character(m$country.name[is.na(m$Country.name)])
m$Country.name[is.na(m$Country.name)] <- m$country.name[is.na(m$Country.name)]
colnames(m)[4] <- "cown"
m$cown[is.na(m$cown)] <- m$cown.y[is.na(m$cown)]
write.csv(m, "imf_oced.csv")
# Merge WB and IMF&OECD data
wb <- read.csv("worldbank.csv")
imf_oed <- read.csv("imf_oecd.csv")
View(imf_oed)
View(wb)
imf_oecd <- read.csv("imf_oecd.csv")
rm(oed)
rm(imf_oed)
m <- merge(wb, imf_oecd, by=c("iso","year"), all=TRUE, sort = TRUE)
View(m)
m <- merge(wb, imf_oecd, by=c("iso","year","country"), all=TRUE, sort = TRUE)
y <- merge(wb, imf_oecd, by=c("iso","year"), all=TRUE, sort = TRUE)
View(m)
m$cown.x[is.na(m$cown.x)] <- m$cown.y[is.na(m$cown.x)]
write.csv(m, "econ_outcomes")
write.csv(m, "econ_outcomes.csv")
class <- read.csv("countryclass.csv")
cown <- read.csv("cown.csv")
setwd("~/Desktop")
class <- read.csv("countryclass.csv")
cown <- read.csv("cown.csv")
View(cown)
View(class)
countries <- merge(class, cown, by.x = "Code", by.y = "StateAbb", all=TRUE, sort = TRUE)
View(countries)
write.csv(countries, "countries.csv")
# Modify incorrect terms in econ_outcomes
econ <- read.csv("econ_outcomes.csv")
# Modify incorrect terms in econ_outcomes
econ <- read.csv("econ_outcomes.csv")
View(econ)
library(countrycode)
econ$cown <- countrycode(econ$iso, "iso3c", "cown", warn = TRUE)
region <- read.csv("countryclass.csv")
View(region)
econ$region[econ$iso==region$Code] <- region$Region[econ$iso==region$Code]
region <- read.csv("countryclass.csv")
econ <- merge(econ, region, by=c("iso"), all=TRUE, sort = TRUE)
econ$region.x <- NULL
write.csv(econ, "econ.csv")
setwd("~/Desktop/thesis")
fh <- read.csv("fh.csv")
uds <- read.csv("uds_summary.csv")
View(fh)
View(uds)
colnames(fh)[1] <- "country"
m <- merge(fh, uds, by=c("cown","year"), all=TRUE, sort = TRUE)
View(m)
m <- merge(fh, uds, by=c("country","year"), sort = TRUE)
m <- merge(fh, uds, by=c("country","year"), all=TRUE, sort = TRUE)
m <-m [m$year >= 1972]
m <-m [which(m$year >= 1972)]
m <-m [which(m$year >= 1972),]
write.csv(m, "fh_uds.csv")
fh_uds <- read.csv("fh_uds.csv")
View(fh_uds)
fh_uds$cown <- countrycode(fh_uds$iso, "iso3c", "cown", warn = TRUE)
library(countrycode)
fh_uds$cown <- countrycode(fh_uds$iso, "iso3c", "cown", warn = TRUE)
fh_uds[isna(fh_uds$country)]
View(fh_uds[is.na(fh_uds$country)])
fh_uds[is.na(fh_uds$country)]
fh_uds[is.na(fh_uds$cown)]
fh_uds[is.na(fh_uds$cown),]
fh_uds$cown <- countrycode(fh_uds$country, "country.name", "cown", warn = TRUE)
fh_uds[is.na(fh_uds$cown),]
fh_uds$iso <- countrycode(fh_uds$country, "country.name", "iso3c", warn = TRUE)
fh_uds[is.na(fh_uds$cown),]
write.csv(fh_uds, "fh_uds.csv")
countrycode("Serbia", "country.name", "cown", warn = TRUE)
countrycode("SRB", "iso3c", "cown", warn = TRUE)
countrycode("RUS", "iso3c", "country.name", warn = TRUE)
View(fh)
m <- merge(fh, uds, by=c("cown","year"), all=TRUE, sort = TRUE)
m$country <- countrycode(m$cown, "cown", "country.name", warn = TRUE)
m$iso <- countrycode(m$cown, "cown", "iso3c", warn = TRUE)
write.csv(m, "merge.csv")
write.csv(fh_uhs, "merge.csv")
write.csv(m, "fh_uhs.csv")
polity <- read.csv("polity.csv")
View(polity)
polity <- subset(polity, polity$year > 1959)
polity <- subset(polity, as.numeric(polity$year) > 1959)
polity <- subset(polity, polity["year"] > 1959)
polity <- read.csv("polity.csv")
View(polity)
polity["year"]
as.data.frame(polity)
polity$year
polity <- subset(polity, polity$year > 1959)
polity$year[1]
polity$year[2]
polity <- subset(polity, polity[["year"]] > 1959)
polity[["year"]]
polity <- subset(polity, polity[["year"]] > 1959)
is.data.frame(polity)
is.data.frame(polity$year)
as.data.frame(polity$year)
polity <- subset(polity, polity$year > 1959)
is.data.frame(polity$year)
as.data.frame(polity$year)
polity <- read.csv("polity.csv")
View(polity)
polity <- subset(polity, polity$year > 1959)
polity <- subset(polity, year > 1959)
write.csv(polity, "polity.csv")
cpds <- read.csv("cpds.csv")
View(cpds)
cnts <- read.csv("cnts.csv")
View(cnts)
library(countrycode)
cnts$iso <- countrycode(cnts$Wbcode, "wb", "iso3c", warn = TRUE)
write.csv(cnts, "cnts.csv")
